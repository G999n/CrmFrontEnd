<div class="opportunity-management-container">
    <h2 class="section-title">Opportunity Management</h2>
  
    <div *ngIf="isEditing" class="form-header">
      <h3>Edit Opportunity</h3>
    </div>
    <div *ngIf="!isEditing" class="form-header">
      <h3>Add New Opportunity</h3>
    </div>
  
    <form (ngSubmit)="isEditing ? updateOpportunity() : addOpportunity()" class="opportunity-form">
      <div class="form-group">
        <label for="customerId" class="form-label">Customer ID</label>
        <input type="number" id="customerId" [(ngModel)]="opportunity.customerId" name="customerId" placeholder="Enter Customer ID" required class="form-input" />
      </div>
  
      <div class="form-group">
        <label for="accountManagerId" class="form-label">Account Manager ID</label>
        <input type="number" id="accountManagerId" [(ngModel)]="opportunity.accountManagerId" name="accountManagerId" placeholder="Enter Account Manager ID" required class="form-input" />
      </div>
  
      <div class="form-group">
        <label for="opportunityValue" class="form-label">Opportunity Value</label>
        <input type="number" id="opportunityValue" [(ngModel)]="opportunity.opportunityValue" name="opportunityValue" placeholder="Enter Opportunity Value" required class="form-input" />
      </div>
  
      <div class="form-group">
        <label for="closeDate" class="form-label">Close Date</label>
        <input type="date" id="closeDate" [(ngModel)]="opportunity.closeDate" name="closeDate" required class="form-input" />
      </div>
  
      <div class="form-group">
        <label for="stage" class="form-label">Stage</label>
        <input type="text" id="stage" [(ngModel)]="opportunity.stage" name="stage" placeholder="Enter Stage" required class="form-input" />
      </div>
  
      <button type="submit" class="submit-btn">{{ isEditing ? 'Update' : 'Add' }} Opportunity</button>
    </form>
  
    <div class="opportunity-list-container">
      <table class="opportunity-table">
        <thead>
          <tr>
            <th>ID</th>
            <th>Customer ID</th>
            <th>Account Manager ID</th>
            <th>Opportunity Value</th>
            <th>Close Date</th>
            <th>Stage</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let opp of opportunities">
            <td>{{ opp.opportunityId }}</td>
            <td>{{ opp.customerId }}</td>
            <td>{{ opp.accountManagerId }}</td>
            <td>{{ opp.opportunityValue }}</td>
            <td>{{ opp.closeDate | date }}</td>
            <td>{{ opp.stage }}</td>
            <td>
              <button (click)="editOpportunity(opp.opportunityId)" class="action-btn edit-btn">Edit</button>
              <button (click)="deleteOpportunity(opp.opportunityId)" class="action-btn delete-btn">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
  